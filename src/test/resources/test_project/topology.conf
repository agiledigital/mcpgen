"topology": {
  "links": [
    {
      from: "components.se_swip_elastic_search",
      to: "components.public_api"
    },
    {
      from: "resources.se_swip_smtp",
      to: "components.public_api"
    },
    {
      from: "resources.se_swip_carbon",
      to: "components.public_api"
    },
    {
      from: "resources.se_swip_db",
      to: "components.public_api"
    },
    {
      from: "components.se_swip_influx_db",
      to: "components.public_api"
    }
  ],
  "edges": {
    "main": {
      "sub-edges": {
        "public_api": {
          "type": "http",
          "dns-prefix": "public.swip",
          // External URL is safe to resolve at runtime only.
          "external-url": ${environment.topology.edges.main.subedges.public_api.external_url},
          locations: [
            {
              // location and targetLocation with default to '/'.'
              location: "/swip-api",
              target: "components.public_api",
              target-name: "PUBLIC_API",
              target-port: 9000
            },
            {
              target: "components.public"
              target-name: "PUBLIC_WWW",
              target-port: 8000
            },
            {
              location: "/search-api",
              target: "components.se_swip_elastic_search"
              target-name: "ELASTIC_SEARCH"
              target-port: 9200,
            }
          ]
        }
      }
    }
  }
}

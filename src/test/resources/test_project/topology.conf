"topology": {
  "links": [
    {
      from: "components.se_swip_elastic_search",
      to: "components.public_api"
    },
    {
      from: "resources.se_swip_smtp",
      to: "components.public_api"
    },
    {
      from: "resources.se_swip_carbon",
      to: "components.public_api"
    },
    {
      from: "resources.se_swip_db",
      to: "components.public_api"
    },
    {
      from: "components.se_swip_influx_db",
      to: "components.public_api"
    }
  ],
  "edges": {
    "main": {
      "subEdges": {
        "public_api": {
          "type": "http",
          "dnsPrefix": "public.swip",
          // External URL is safe to resolve at runtime only.
          "externalUrl": ${environment.topology.edges.main.subedges.public_api.external_url},
          locations: [
            {
              // location and targetLocation with default to '/'.'
              location: "/swip-api",
              target: "components.public_api",
              targetName: "PUBLIC_API",
              targetPort: 9000
            },
            {
              target: "components.public"
              targetName: "PUBLIC_WWW",
              targetPort: 8000
            },
            {
              location: "/search-api",
              target: "components.se_swip_elastic_search"
              targetName: "ELASTIC_SEARCH"
              targetPort: 9200,
            }
          ]
        }
      }
    }
  }
}
